# P1091 合唱队形

## 题目描述

N*N*位同学站成一排，音乐老师要请其中的(N-K*N*−*K*)位同学出列，使得剩下的K*K*位同学排成合唱队形。

合唱队形是指这样的一种队形：设K位同学从左到右依次编号为1,2,…,K1,2,…,*K*，他们的身高分别为T_1,T_2,…,T_K*T*1,*T*2,…,*T**K*， 则他们的身高满足T_1<...<T_i>T_{i+1}>…>T_K(1 \le i \le K)*T*1<...<*T**i*>*T**i*+1>…>*T**K*(1≤*i*≤*K*)。

你的任务是，已知所有N位同学的身高，计算最少需要几位同学出列，可以使得剩下的同学排成合唱队形。

## 输入输出格式

输入格式：



共二行。

第一行是一个整数N(2 \le N \le 100)*N*(2≤*N*≤100)，表示同学的总数。

第二行有n*n*个整数，用空格分隔，第i*i*个整数T_i(130 \le T_i \le 230)*T**i*(130≤*T**i*≤230)是第i*i*位同学的身高(厘米)。



输出格式：



一个整数，最少需要几位同学出列。



## 输入输出样例

输入样例#1：

 

复制

```
8
186 186 150 200 160 130 197 220
```

输出样例#1：

 

复制

```
4
```

## 说明

对于50％的数据，保证有n \le 20*n*≤20；

对于全部的数据，保证有n \le 100*n*≤100。



### 思路

![合唱队形](D:\mybook\dp\最长不降子序列\合唱队形.png)

先输入，然后求最长不降子序列和最长不升子序列，接着用ans一个一个找到最大的数，最后输出n-ans，也就是要出列几人

### 代码

```c++
#include<iostream>
using namespace std;
int a[105],b[105],ans,n,x[105];
void zcbjzxl()
{
	a[1]=1;
	for(int i=2;i<=n;i++)
	{
		a[i]=1;
		for(int j=1;j<i;j++)
		{
			if(x[i]>x[j]&&a[i]<a[j]+1) a[i]=a[j]+1;
		}
	}
}
void zcbszxl()
{
	b[n]=1;
	for(int i=n-1;i>=1;i--)
	{
		b[i]=1;
		for(int j=i;j<=n;j++)
		{
			if(x[i]>x[j]&&b[i]<b[j]+1) b[i]=b[j]+1;
		}
	}
}
int main()
{
	cin>>n;
	for(int i=1;i<=n;i++)
		cin>>x[i];
	zcbjzxl();
	zcbszxl();
	ans=-10000;
	for(int i=1;i<=n;i++)
		if(a[i]+b[i]-1>ans) ans=a[i]+b[i]-1;
	cout<<n-ans;
	return 0;
}
```

